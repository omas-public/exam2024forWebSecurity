# 2024 年度考査 (WebSecurity)

Date: 2024-08-22

## 問題 01 [http get]

ncを用いてp46-47のリクエストメッセージを再現するコマンドを記述せよ

解答欄

```bash
# この下にコマンドを記述

nc example.jp 80
GET /31/31-001.php HTTP/1.1
Host: example.jp

```

## 問題 02 [http post]

curlを用いてp50 /31/31-004.phpに登録するコマンドを記述せよ，内容は教科書を同じとする

解答欄

```bash
# この下にコマンドを記述

curl -X POST -d "name=徳丸浩&mail=toku@example.jp&gender=男" http://example.jp/31/31-004.php

```
## 問題 03 [http cookie]

curlを用いてp62-64のサンプルアプリケーションのログインの遷移を再現するコマンドを記述せよ


```bash
# この下にコマンドを記述

curl -c cookie.txt http://example.jp/31/31-020.php 
curl -b cookie.txt http://example.jp/31/31-021.php -X POST -d 'ID=user1&PWD=pass1'

```
## 問題 04 [cors]

CORSについて簡潔に述べ，なぜ必要なのかを説明せよ

```md
# 記述欄

異なるオリジンからのリソースへのアクセスを制御する仕組み。  
サーバーが明示的に許可するオリジンからのリクエストだけを受け入れることで、異なるオリジンから攻撃者が不正なリクエストを送信することを防ぐことができる。  
不正なサイトがユーザーの認証情報を使って意図しないリクエストを行うのを防いだり(CSRF)、不正なスクリプトが他のドメインからデータを取得するのを防ぐため(XSS)必要である。

```
## 問題 05 [インジェクション]

インジェクションについて知っていることを述べ，共通する対策を記述せよ

```md
# 記述欄

SQL文の呼び出しやHTMLの出力等、外部とのやり取りや出力に起因する脆弱性である。
文字列の入力を受け付けるプログラムが外部から不正な文字列を受け付けることで、データの改ざんや詐欺の被害にあう恐れがある。  
例として、XSSやSQLインジェクション等があげられる。  

対策:メタ文字のエスケープ処理

```
問 06 [正規表現]

ヴァリデーションチェックに正規表現を用いることはしばしばあるが，その上で気をつけるべきことを記述せよ

```md
# 記述欄

正規表現には定義済み文字クラスというものがあり、定義済み文字クラスには開発者の意図以外の文字がマッチする可能性があるため、[a-zA-Z0-9_]のように文字クラスを明示するべきである。


```
問 07 [xss]

xssについて知っていることを述べ，基本の対策について記述せよ

```md
# 記述欄

通常Webアプリケーションには外部からの入力に応じて表示が変化する箇所があり、この部分のHTML生成の実装に問題がある際に生じる脆弱性のこと。  
その脆弱性をつついて悪質なスクリプトを埋め込むことで、アプリケーション利用者が成りすましの被害にあったり、フィッシングにより個人情報を盗まれたりする危険性がある。

対策：  
XSS脆弱性が生じる主な要因はHTMLを生成する際の「<」や「"」に対するエスケープ漏れであるため、  
1. 要素内容については「<」「&」をエスケープすること  
2. 属性値についてはダブルクォートで囲って「<」「"」「&」をエスケープすること

```
問 08 [mail]

wasbook@example.jpのメールをncコマンドを用いて内容を読み，そのコマンドを記述せよ

```bash
# この下にコマンドを記述

nc example.jp 110
user wasbook
pass wasbook
retr 1
quit

```
問 09 [tcpdump]

tcpdumpでexample.comとの通信をキャプチャーするコマンドを記述せよ，但しhttpのみとする。

```bash
# この下にコマンドを記述

sudo tcpdump tcp port 80 and host example.com

```
問 10 [自由記述]

この試験の自己採点はどのくらいか記述せよ，またこの講義で何を学びどういう感想を持ったか記述せよ

記述欄
------------------------------------------
80点くらい  

これまでアプリケーション開発を行ってきた中で、あまりネットワークやセキュリティのことを気にして開発をしてこなかった。  
例えばログイン機能をつけたとき、ログインをしていないユーザがログイン済みのユーザしか確認できない画面に遷移できないよう画面上は設定していても、それが本当に遷移できないのか、XSS対策等も行っていなかったので、フレームワーク等にその機能がついていたとしてもちゃんとそれを確認し、意識するのを忘れないようにしようと思った。


------------------------------------------
