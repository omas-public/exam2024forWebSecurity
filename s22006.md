# 2024 年度考査 (WebSecurity)

Date: 2024-08-22

## 問題 01 [http get]

ncを用いてp46-47のリクエストメッセージを再現するコマンドを記述せよ

解答欄

```bash
# この下にコマンドを記述

echo -e "GET /path/to/resource HTTP/1.1\r\nHost: example.com\r\nConnection: close\r\n\r\n" | nc example.com 80

```

## 問題 02 [http post]

curlを用いてp50 /31/31-004.phpに登録するコマンドを記述せよ，内容は教科書を同じとする

解答欄

```bash
# この下にコマンドを記述

curl -X POST -d "username=hisano&password=53210&email=example@example.com" http://example.com/31/31-004.php

```
## 問題 03 [http cookie]

curlを用いてp62-64のサンプルアプリケーションのログインの遷移を再現するコマンドを記述せよ


```bash
# この下にコマンドを記述

1.curl -c cookies.txt http://example.com/login.php
2.curl -b cookies.txt -c cookies.txt -X POST -d "username=exampleUser&password=examplePass" http://example.com/login.php
3.curl -b cookies.txt http://example.com/dashboard.php

```
## 問題 04 [cors]

CORSについて簡潔に述べ，なぜ必要なのかを説明せよ

```md
# 記述欄

同一生成元ポリシーというセキュリティー構造を持っているため、異なるオリジン間でのリソースの読み込みや操作を制限し、XSSやCSRFなどの攻撃に対する脆弱性を防ぐ役割があるから。

```
## 問題 05 [インジェクション]

インジェクションについて知っていることを述べ，共通する対策を記述せよ

```md
# 記述欄

悪意のある人が、悪意のある入力データを、アプリケーションが意図しないコマンドやクエリを実行する攻撃手法。手法はさまざまで。私が知っているのは、2つ。1つはSQLインジェクション、SQLクエリに不正なコードを挿入し、データベースを操作する。2つ目、XSSインジェクション、悪意のあるスクリプトを他のユーザーに実行させる。

対策の共通点　５つ

入力の検証とサニタイズ
　ユーザー入力を厳しくチェックし、不正なデータやコードを除去する。
エスケープ処理
　特殊文字を無効化して、悪意のあるコードが実行されないようにする。
エラーメッセージの制御
　機密情報を含まないエラーメッセージにして、攻撃の手がかりを減らす。
最小限の原則
　必要最低限の権限のみを付与し、攻撃が成功しても被害を最小限に抑える。
定期的なセキュリティテスト
　 脆弱性を早期に発見して修正することで、攻撃を防ぐ。
```
問 06 [正規表現]

ヴァリデーションチェックに正規表現を用いることはしばしばあるが，その上で気をつけるべきことを記述せよ

```md
# 記述欄

注意点　8つ

1.シンプルに:　複雑すぎる正規表現は避ける。
2.エッジケースに対応:　予想外の入力も考慮する。
3.パフォーマンスに注意:　効率の悪い正規表現は避ける。
4.適切なエスケープ: メタキャラクターを正しく扱う。
5.制限を明確に: 長さやパターンを正確に定義する。
6.否定表現に注意: 不正な除外や許可を防ぐ。
7.明確なフィードバック: エラーメッセージは具体的に。
8.ReDoS攻撃対策: リソース消費の多い正規表現は避ける。

```
問 07 [xss]

xssについて知っていることを述べ，基本の対策について記述せよ

```md
# 記述欄

悪意のあるスクリプトがWEBに埋め込まれ、他のユーザーのブラウザで実行される攻撃手法。
セッション情報の盗み取りや不正な操作が可能になる。

対策 5つ
1.入力のサニタイズ: ユーザーの入力からHTMLタグやスクリプトを取り除く。
2.エスケープ処理: HTML、JavaScript、CSS内で特殊文字を適切にエスケープする。
3.コンテンツセキュリティポリシー（CSP）: ブラウザに許可されたスクリプトのみを実行させるポリシーを設定する。
4.出力の検証: データを表示する際に適切な検証を行い、想定外のコード実行を防ぐ。
5.HTTPOnlyとSecureフラグを使ったクッキー設定: クッキーがJavaScriptからアクセスされないように設定する。


```
問 08 [mail]

wasbook@example.jpのメールをncコマンドを用いて内容を読み，そのコマンドを記述せよ

```bash
# この下にコマンドを記述

echo -e "USER wasbook@example.jp\nPASS your_password\nLIST\nRETR 1\nQUIT" | nc mail.example.jp 110

```
問 09 [tcpdump]

tcpdumpでexample.comとの通信をキャプチャーするコマンドを記述せよ，但しhttpのみとする。

```bash
# この下にコマンドを記述

tcpdump -i any -n host example.com and tcp port 80

```
問 10 [自由記述]

この試験の自己採点はどのくらいか記述せよ，またこの講義で何を学びどういう感想を持ったか記述せよ

記述欄
------------------------------------------

自己採点
・点数で言うと、100点中50点。可もなく不可もないと思いました。
　というのも、自力では解けない問題がありました。ncコマンドとか対処法の問題です。ただ、教科書とかネットで調べたりしてなんとかできたのと色々学べた部分で良かったと思いました。

学びと感想
この講義では、ウェブセキュリティの基礎、さまざまな攻撃と対策方法など。セキュリティの重要性を認識するきっかけになりました。これらの知識はウェブアプリケーションを開発する際のセキュリティ強化に不可欠になると思いました。さらに実践的なスキルを身につけることで、より安全なシステムを構築できると感じました。
------------------------------------------
